<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S-100海事服务平台API文档</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f8fafc;
            color: #334155;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .header {
            margin-bottom: 30px;
        }
        .header h1 {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #1e293b;
        }
        .header p {
            color: #64748b;
            font-size: 1.1rem;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .stat-card h3 {
            margin: 0 0 10px 0;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .stat-card .number {
            font-size: 2rem;
            font-weight: bold;
            margin: 0;
        }
        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
        }
        .dot.green { background-color: #22c55e; }
        .dot.blue { background-color: #3b82f6; }
        .dot.red { background-color: #ef4444; }
        .dot.gray { background-color: #6b7280; }
        
        .search-filter {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }
        .search-input {
            flex: 1;
            min-width: 200px;
            padding: 10px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
        }
        .filter-select {
            padding: 10px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .api-section {
            margin-bottom: 30px;
        }
        .section-header {
            background: white;
            padding: 15px 20px;
            border-radius: 8px 8px 0 0;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border-bottom: 2px solid #e2e8f0;
        }
        .section-header h2 {
            margin: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .section-description {
            background: #f8fafc;
            padding: 15px 20px;
            border-radius: 0 0 8px 8px;
            border: 1px solid #e2e8f0;
            border-top: none;
            margin-bottom: 20px;
            font-size: 14px;
            color: #64748b;
        }
        
        .api-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            margin-bottom: 15px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            transition: box-shadow 0.2s;
        }
        .api-card:hover {
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .api-header {
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 15px;
        }
        .api-info {
            flex: 1;
        }
        .api-path {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .api-description {
            color: #64748b;
            margin: 0;
        }
        .api-methods {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }
        .method-badge {
            background: #f1f5f9;
            color: #475569;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }
        .api-footer {
            padding: 15px 20px;
            border-top: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .api-category {
            font-size: 14px;
            color: #64748b;
        }
        .api-actions {
            display: flex;
            gap: 10px;
        }
        .action-btn {
            padding: 6px 12px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            background: white;
            color: #374151;
            font-size: 12px;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.2s;
        }
        .action-btn:hover {
            background: #f9fafb;
            border-color: #9ca3af;
        }
        
        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: #64748b;
        }
        .no-results h3 {
            margin: 20px 0 10px 0;
            color: #374151;
        }
        
        @media (max-width: 768px) {
            .search-filter {
                flex-direction: column;
                align-items: stretch;
            }
            .api-header {
                flex-direction: column;
            }
            .api-footer {
                flex-direction: column;
                gap: 15px;
                align-items: stretch;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>S-100海事服务平台API文档</h1>
            <p>完整的API端点文档，按使用场景分类管理</p>
        </div>

        <div class="stats">
            <div class="stat-card">
                <h3><span class="dot gray"></span>总API数量</h3>
                <div class="number">69</div>
            </div>
            <div class="stat-card">
                <h3><span class="dot green"></span>对外数据服务API</h3>
                <div class="number" style="color: #22c55e;">23</div>
            </div>
            <div class="stat-card">
                <h3><span class="dot blue"></span>协作API</h3>
                <div class="number" style="color: #3b82f6;">24</div>
            </div>
            <div class="stat-card">
                <h3><span class="dot red"></span>内部综合管理API</h3>
                <div class="number" style="color: #ef4444;">22</div>
            </div>
        </div>

        <div class="search-filter">
            <input type="text" class="search-input" placeholder="搜索API路径或描述..." id="searchInput">
            <select class="filter-select" id="categoryFilter">
                <option value="all">全部分类</option>
                <option value="public">对外数据服务API</option>
                <option value="federation">协作API</option>
                <option value="admin">内部综合管理API</option>
            </select>
            <select class="filter-select" id="methodFilter">
                <option value="all">全部方法</option>
                <option value="GET">GET</option>
                <option value="POST">POST</option>
                <option value="PUT">PUT</option>
                <option value="DELETE">DELETE</option>
                <option value="PATCH">PATCH</option>
            </select>
        </div>

        <div id="apiContent">
            <!-- API内容将由JavaScript动态生成 -->
        </div>

        <div id="noResults" class="no-results" style="display: none;">
            <div style="font-size: 48px; margin-bottom: 20px;">🔍</div>
            <h3>没有找到匹配的API</h3>
            <p>请尝试调整搜索条件或过滤器</p>
        </div>
    </div>

    <script>
        // API数据
        const apiData = [
            {
                "path": "/api/admin/apikeys",
                "methods": ["GET"],
                "description": "内部综合管理API - apikeys",
                "category": "admin",
                "categoryName": "内部综合管理API",
                "categoryColor": "#ef4444",
                "categoryDescription": "供本级管理员操作，拥有最高权限，不对外公开"
            },
            {
                "path": "/api/admin/cache",
                "methods": ["GET"],
                "description": "内部综合管理API - cache",
                "category": "admin",
                "categoryName": "内部综合管理API",
                "categoryColor": "#ef4444",
                "categoryDescription": "供本级管理员操作，拥有最高权限，不对外公开"
            },
            {
                "path": "/api/admin/config",
                "methods": ["GET"],
                "description": "内部综合管理API - config",
                "category": "admin",
                "categoryName": "内部综合管理API",
                "categoryColor": "#ef4444",
                "categoryDescription": "供本级管理员操作，拥有最高权限，不对外公开"
            },
            {
                "path": "/api/admin/configuration/node",
                "methods": ["GET"],
                "description": "内部综合管理API - configuration/node",
                "category": "admin",
                "categoryName": "内部综合管理API",
                "categoryColor": "#ef4444",
                "categoryDescription": "供本级管理员操作，拥有最高权限，不对外公开"
            },
            {
                "path": "/api/admin/identity/discover",
                "methods": ["GET"],
                "description": "内部综合管理API - identity/discover",
                "category": "admin",
                "categoryName": "内部综合管理API",
                "categoryColor": "#ef4444",
                "categoryDescription": "供本级管理员操作，拥有最高权限，不对外公开"
            },
            {
                "path": "/api/admin/identity/providers/[id]",
                "methods": ["GET"],
                "description": "内部综合管理API - identity/providers/[id]",
                "category": "admin",
                "categoryName": "内部综合管理API",
                "categoryColor": "#ef4444",
                "categoryDescription": "供本级管理员操作，拥有最高权限，不对外公开"
            },
            {
                "path": "/api/admin/identity/providers",
                "methods": ["GET"],
                "description": "内部综合管理API - identity/providers",
                "category": "admin",
                "categoryName": "内部综合管理API",
                "categoryColor": "#ef4444",
                "categoryDescription": "供本级管理员操作，拥有最高权限，不对外公开"
            },
            {
                "path": "/api/admin/identity/trust-relationships/[id]",
                "methods": ["GET"],
                "description": "内部综合管理API - identity/trust-relationships/[id]",
                "category": "admin",
                "categoryName": "内部综合管理API",
                "categoryColor": "#ef4444",
                "categoryDescription": "供本级管理员操作，拥有最高权限，不对外公开"
            },
            {
                "path": "/api/admin/identity/trusted-issuers",
                "methods": ["GET"],
                "description": "内部综合管理API - identity/trusted-issuers",
                "category": "admin",
                "categoryName": "内部综合管理API",
                "categoryColor": "#ef4444",
                "categoryDescription": "供本级管理员操作，拥有最高权限，不对外公开"
            },
            {
                "path": "/api/admin/nodes/[id]/coverage",
                "methods": ["GET"],
                "description": "内部综合管理API - nodes/[id]/coverage",
                "category": "admin",
                "categoryName": "内部综合管理API",
                "categoryColor": "#ef4444",
                "categoryDescription": "供本级管理员操作，拥有最高权限，不对外公开"
            },
            {
                "path": "/api/admin/nodes/[id]/policy",
                "methods": ["GET"],
                "description": "内部综合管理API - nodes/[id]/policy",
                "category": "admin",
                "categoryName": "内部综合管理API",
                "categoryColor": "#ef4444",
                "categoryDescription": "供本级管理员操作，拥有最高权限，不对外公开"
            },
            {
                "path": "/api/admin/nodes/[id]",
                "methods": ["GET"],
                "description": "内部综合管理API - nodes/[id]",
                "category": "admin",
                "categoryName": "内部综合管理API",
                "categoryColor": "#ef4444",
                "categoryDescription": "供本级管理员操作，拥有最高权限，不对外公开"
            },
            {
                "path": "/api/admin/nodes/[id]/sync",
                "methods": ["GET"],
                "description": "内部综合管理API - nodes/[id]/sync",
                "category": "admin",
                "categoryName": "内部综合管理API",
                "categoryColor": "#ef4444",
                "categoryDescription": "供本级管理员操作，拥有最高权限，不对外公开"
            },
            {
                "path": "/api/admin/nodes",
                "methods": ["GET"],
                "description": "内部综合管理API - nodes",
                "category": "admin",
                "categoryName": "内部综合管理API",
                "categoryColor": "#ef4444",
                "categoryDescription": "供本级管理员操作，拥有最高权限，不对外公开"
            },
            {
                "path": "/api/admin/service-directory/sync",
                "methods": ["GET"],
                "description": "内部综合管理API - service-directory/sync",
                "category": "admin",
                "categoryName": "内部综合管理API",
                "categoryColor": "#ef4444",
                "categoryDescription": "供本级管理员操作，拥有最高权限，不对外公开"
            },
            {
                "path": "/api/admin/services/[id]/actions",
                "methods": ["GET"],
                "description": "内部综合管理API - services/[id]/actions",
                "category": "admin",
                "categoryName": "内部综合管理API",
                "categoryColor": "#ef4444",
                "categoryDescription": "供本级管理员操作，拥有最高权限，不对外公开"
            },
            {
                "path": "/api/admin/services/[id]",
                "methods": ["GET"],
                "description": "内部综合管理API - services/[id]",
                "category": "admin",
                "categoryName": "内部综合管理API",
                "categoryColor": "#ef4444",
                "categoryDescription": "供本级管理员操作，拥有最高权限，不对外公开"
            },
            {
                "path": "/api/admin/services",
                "methods": ["GET"],
                "description": "内部综合管理API - services",
                "category": "admin",
                "categoryName": "内部综合管理API",
                "categoryColor": "#ef4444",
                "categoryDescription": "供本级管理员操作，拥有最高权限，不对外公开"
            },
            {
                "path": "/api/admin/users/[id]/roles",
                "methods": ["GET"],
                "description": "内部综合管理API - users/[id]/roles",
                "category": "admin",
                "categoryName": "内部综合管理API",
                "categoryColor": "#ef4444",
                "categoryDescription": "供本级管理员操作，拥有最高权限，不对外公开"
            },
            {
                "path": "/api/admin/users",
                "methods": ["GET"],
                "description": "内部综合管理API - users",
                "category": "admin",
                "categoryName": "内部综合管理API",
                "categoryColor": "#ef4444",
                "categoryDescription": "供本级管理员操作，拥有最高权限，不对外公开"
            },
            {
                "path": "/api/auth/federated/authorize",
                "methods": ["GET"],
                "description": "协作API - federated/authorize",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/auth/federated/callback",
                "methods": ["GET"],
                "description": "协作API - federated/callback",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/auth/federated/refresh",
                "methods": ["GET"],
                "description": "协作API - federated/refresh",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/auth/federated/revoke",
                "methods": ["GET"],
                "description": "协作API - federated/revoke",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/auth/federated/userinfo",
                "methods": ["GET"],
                "description": "协作API - federated/userinfo",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/auth/login",
                "methods": ["GET"],
                "description": "协作API - login",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/auth/sso/callback",
                "methods": ["GET"],
                "description": "协作API - sso/callback",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/auth/sso/check-access",
                "methods": ["GET"],
                "description": "协作API - sso/check-access",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/auth/sso/login",
                "methods": ["GET"],
                "description": "协作API - sso/login",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/auth/sso/map-token",
                "methods": ["GET"],
                "description": "协作API - sso/map-token",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/auth/sso/verify-token",
                "methods": ["GET"],
                "description": "协作API - sso/verify-token",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/capabilities",
                "methods": ["GET"],
                "description": "协作API - capabilities",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/health",
                "methods": ["GET"],
                "description": "协作API - health",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/management/capabilities",
                "methods": ["GET"],
                "description": "协作API - management/capabilities",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/management/health",
                "methods": ["GET"],
                "description": "协作API - management/health",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/monitoring/health-history",
                "methods": ["GET"],
                "description": "协作API - monitoring/health-history",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/nodes/[id]/base-map/config",
                "methods": ["GET"],
                "description": "协作API - nodes/[id]/base-map/config",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/nodes/[id]/capabilities",
                "methods": ["GET"],
                "description": "协作API - nodes/[id]/capabilities",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/nodes/[id]/health",
                "methods": ["GET"],
                "description": "协作API - nodes/[id]/health",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/nodes/[id]",
                "methods": ["GET"],
                "description": "协作API - nodes/[id]",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/nodes",
                "methods": ["GET"],
                "description": "协作API - nodes",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/users/[id]",
                "methods": ["GET"],
                "description": "协作API - users/[id]",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/users/base-map/preference",
                "methods": ["GET"],
                "description": "协作API - users/base-map/preference",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/users/meta",
                "methods": ["GET"],
                "description": "协作API - users/meta",
                "category": "federation",
                "categoryName": "协作API",
                "categoryColor": "#3b82f6",
                "categoryDescription": "节点间通信，支持身份验证、授权和联合操作"
            },
            {
                "path": "/api/datasets/[id]/publish",
                "methods": ["GET"],
                "description": "对外数据服务API - datasets/[id]/publish",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            },
            {
                "path": "/api/datasets/[id]",
                "methods": ["GET"],
                "description": "对外数据服务API - datasets/[id]",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            },
            {
                "path": "/api/datasets",
                "methods": ["GET"],
                "description": "对外数据服务API - datasets",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            },
            {
                "path": "/api/drawing-instructions",
                "methods": ["GET"],
                "description": "对外数据服务API - drawing-instructions",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            },
            {
                "path": "/api/example",
                "methods": ["GET"],
                "description": "对外数据服务API - example",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            },
            {
                "path": "/api/internal/ingest/s101",
                "methods": ["GET"],
                "description": "内部综合管理API - internal/ingest/s101",
                "category": "admin",
                "categoryName": "内部综合管理API",
                "categoryColor": "#ef4444",
                "categoryDescription": "供本级管理员操作，拥有最高权限，不对外公开"
            },
            {
                "path": "/api/internal/ingest/s102",
                "methods": ["GET"],
                "description": "内部综合管理API - internal/ingest/s102",
                "category": "admin",
                "categoryName": "内部综合管理API",
                "categoryColor": "#ef4444",
                "categoryDescription": "供本级管理员操作，拥有最高权限，不对外公开"
            },
            {
                "path": "/api/monitoring",
                "methods": ["GET"],
                "description": "对外数据服务API - monitoring",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            },
            {
                "path": "/api/s101/wfs",
                "methods": ["GET"],
                "description": "对外数据服务API - s101/wfs",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            },
            {
                "path": "/api/s101/wms",
                "methods": ["GET"],
                "description": "对外数据服务API - s101/wms",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            },
            {
                "path": "/api/s102/wcs",
                "methods": ["GET"],
                "description": "对外数据服务API - s102/wcs",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            },
            {
                "path": "/api/s102/wms",
                "methods": ["GET"],
                "description": "对外数据服务API - s102/wms",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            },
            {
                "path": "/api/self-assessment",
                "methods": ["GET"],
                "description": "对外数据服务API - self-assessment",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            },
            {
                "path": "/api/services/[id]/pilot",
                "methods": ["GET"],
                "description": "对外数据服务API - services/[id]/pilot",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            },
            {
                "path": "/api/services/[id]/publish",
                "methods": ["GET"],
                "description": "对外数据服务API - services/[id]/publish",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            },
            {
                "path": "/api/services/[id]",
                "methods": ["GET"],
                "description": "对外数据服务API - services/[id]",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            },
            {
                "path": "/api/services",
                "methods": ["GET"],
                "description": "对外数据服务API - services",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            },
            {
                "path": "/api/users",
                "methods": ["GET"],
                "description": "对外数据服务API - users",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            },
            {
                "path": "/api/v1/[product]/[service_type]",
                "methods": ["GET"],
                "description": "对外数据服务API - v1/[product]/[service_type]",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            },
            {
                "path": "/api/v1/capabilities",
                "methods": ["GET"],
                "description": "对外数据服务API - v1/capabilities",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            },
            {
                "path": "/api/v1/s101/wfs",
                "methods": ["GET"],
                "description": "对外数据服务API - v1/s101/wfs",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            },
            {
                "path": "/api/v1/s101/wms",
                "methods": ["GET"],
                "description": "对外数据服务API - v1/s101/wms",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            },
            {
                "path": "/api/v1/s102/wcs",
                "methods": ["GET"],
                "description": "对外数据服务API - v1/s102/wcs",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            },
            {
                "path": "/api/v1/s102/wms",
                "methods": ["GET"],
                "description": "对外数据服务API - v1/s102/wms",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            },
            {
                "path": "/api/v1/s104/wms",
                "methods": ["GET"],
                "description": "对外数据服务API - v1/s104/wms",
                "category": "public",
                "categoryName": "对外数据服务API",
                "categoryColor": "#22c55e",
                "categoryDescription": "对最终用户可见，提供S-100海事数据服务"
            }
        ];

        // 分类配置
        const categories = {
            all: { id: 'all', name: '全部API', color: '#6b7280', description: '显示所有API端点' },
            public: { id: 'public', name: '对外数据服务API', color: '#22c55e', description: '对最终用户可见，提供S-100海事数据服务' },
            federation: { id: 'federation', name: '协作API', color: '#3b82f6', description: '节点间通信，支持身份验证、授权和联合操作' },
            admin: { id: 'admin', name: '内部综合管理API', color: '#ef4444', description: '供本级管理员操作，拥有最高权限，不对外公开' }
        };

        let filteredData = [...apiData];

        // 渲染API内容
        function renderApiContent() {
            const container = document.getElementById('apiContent');
            const noResults = document.getElementById('noResults');
            
            if (filteredData.length === 0) {
                container.style.display = 'none';
                noResults.style.display = 'block';
                return;
            }
            
            container.style.display = 'block';
            noResults.style.display = 'none';
            
            // 按分类分组
            const groupedData = {};
            filteredData.forEach(api => {
                if (!groupedData[api.category]) {
                    groupedData[api.category] = [];
                }
                groupedData[api.category].push(api);
            });
            
            let html = '';
            
            // 渲染每个分类
            Object.keys(categories).forEach(categoryId => {
                if (categoryId === 'all') return;
                
                const category = categories[categoryId];
                const apis = groupedData[categoryId] || [];
                
                if (apis.length > 0) {
                    html += `
                        <div class="api-section">
                            <div class="section-header">
                                <h2>
                                    <span class="dot" style="background-color: ${category.color}"></span>
                                    ${category.name}
                                </h2>
                            </div>
                            <div class="section-description">
                                ${category.description}
                            </div>
                    `;
                    
                    // 渲染该分类下的API
                    apis.forEach(api => {
                        html += `
                            <div class="api-card">
                                <div class="api-header">
                                    <div class="api-info">
                                        <div class="api-path">
                                            <span class="dot" style="background-color: ${api.categoryColor}"></span>
                                            ${api.path}
                                        </div>
                                        <p class="api-description">${api.description}</p>
                                    </div>
                                    <div class="api-methods">
                                        ${api.methods.map(method => `<span class="method-badge">${method}</span>`).join('')}
                                    </div>
                                </div>
                                <div class="api-footer">
                                    <div class="api-category">分类: ${api.categoryName}</div>
                                    <div class="api-actions">
                                        <button class="action-btn" onclick="copyToClipboard('${api.path}')">复制路径</button>
                                        <button class="action-btn" onclick="testApi('${api.path}')">测试</button>
                                        <a href="${api.path}" class="action-btn" target="_blank">访问</a>
                                    </div>
                                </div>
                            </div>
                        `;
                    });
                    
                    html += '</div>';
                }
            });
            
            container.innerHTML = html;
        }

        // 过滤功能
        function filterData() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const categoryFilter = document.getElementById('categoryFilter').value;
            const methodFilter = document.getElementById('methodFilter').value;
            
            filteredData = apiData.filter(api => {
                // 搜索过滤
                if (searchTerm && !api.path.toLowerCase().includes(searchTerm) && !api.description.toLowerCase().includes(searchTerm)) {
                    return false;
                }
                
                // 分类过滤
                if (categoryFilter !== 'all' && api.category !== categoryFilter) {
                    return false;
                }
                
                // 方法过滤
                if (methodFilter !== 'all' && !api.methods.includes(methodFilter)) {
                    return false;
                }
                
                return true;
            });
            
            renderApiContent();
        }

        // 复制到剪贴板
        function copyToClipboard(path) {
            navigator.clipboard.writeText(path).then(() => {
                alert('路径已复制到剪贴板: ' + path);
            });
        }

        // 测试API
        function testApi(path) {
            alert('测试功能需要后端服务器支持，当前为静态演示页面。\nAPI路径: ' + path);
        }

        // 事件监听
        document.getElementById('searchInput').addEventListener('input', filterData);
        document.getElementById('categoryFilter').addEventListener('change', filterData);
        document.getElementById('methodFilter').addEventListener('change', filterData);

        // 初始化渲染
        renderApiContent();
    </script>
</body>
</html>